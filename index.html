<html>
<head>
	<script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
	<script>
		// A constructor that takes an array.
		function Iterator(args) {
			
			this.collection = args;
			this.cursor = 0;
		}

		// If the class can iterate the array further, it will return true.
		// If a call to next() will fail, it will return false.
		Iterator.prototype.hasNext = function() {
			if(this.cursor < this.collection.length-1)
				return true;
			else
				return false;
		};

		// This moves the iterator one spot and returns the new value.
		Iterator.prototype.next = function() {
			if(this.hasNext()) {
				this.cursor++;
				return this.collection[this.cursor];
			}
		};

		// This will return the current value pointed to by the iterator
		Iterator.prototype.current = function() {
			return this.collection[this.cursor];
		};

		// This function will return a function, this function when invoked will return 
		// the current value when the tag function was invoked. 
		Iterator.prototype.tag = function(value) {
			var location = value;
			var showTag = function() { return value;}
    		return showTag;
		};

		// This function will reverse the loaded array. After this function is invoked a 
		// call to current will return the same value it would have before the call.
		Iterator.prototype.reverse = function() {
			//this.collection.reverse(); no? :) ok
			var newArray = this.collection;

			for (var i = this.collection.length - 1; i >= 0; i--) {
				newArray.push(this.collection[i]);
				if(i == this.cursor)
					this.cursor = newArray.length-1;
			};
			this.collection = newArray;
		};


		// load everything up and allow for use
		$( document ).ready(function() {
			
			var array = $.trim($(".section").first().text()).split(" ");

			var iterator = new Iterator(array);
    		$("#hasNext").click(function() { $("#result").text(iterator.hasNext());});
    		$("#next").click(function() { $("#result").text(iterator.next());});
    		$("#current").click(function() { $("#result").text(iterator.current());});
    		$("#tag").click(function() { 
    			//assign returned function from tag to showTag button click event
    			var clickEvent = iterator.tag(iterator.current());
    			$("#showTag").click(function() { $("#result").text(clickEvent);});
    			$("#result").text("tagged");
    		});
    		$("#reverse").click(function() { iterator.reverse();$("#result").text("reversed");});
		});
	</script>

</head>
<body>
<div class="section">
   1 2 3 4 5 6
</div>
<div class="section">
   6 5 4 3 2 1
</div>
<div>
	<br><br>
	<label>Operation Result: </label><label id="result"></label><br><br>
	<input id="hasNext" type="button" value="hasNext"></input>
	<input id="next" type="button" value="next"></input>
	<input id="current" type="button" value="current"></input>
	<input id="tag" type="button" value="tag"></input>
	<input id="showTag" type="button" value="show tag"></input>
	<input id="reverse" type="button" value="reverse"></input>
</body>
</html>